{"id":"get-content.js","dependencies":[{"name":"/Users/limitlessloop/Sites/stancy/.babelrc.js","includedInParent":true,"mtime":1591976074376},{"name":"/Users/limitlessloop/Sites/stancy/package.json","includedInParent":true,"mtime":1591985599292},{"name":"@babel/runtime/regenerator","parent":"/Users/limitlessloop/Sites/stancy/src/get-content.js","resolved":"/Users/limitlessloop/Sites/stancy/node_modules/@babel/runtime/regenerator/index.js"},{"name":"@babel/runtime/helpers/slicedToArray","parent":"/Users/limitlessloop/Sites/stancy/src/get-content.js","resolved":"/Users/limitlessloop/Sites/stancy/node_modules/@babel/runtime/helpers/slicedToArray.js"},{"name":"@babel/runtime/helpers/asyncToGenerator","parent":"/Users/limitlessloop/Sites/stancy/src/get-content.js","resolved":"/Users/limitlessloop/Sites/stancy/node_modules/@babel/runtime/helpers/asyncToGenerator.js"},{"name":"jsonata","loc":{"line":1,"column":20},"parent":"/Users/limitlessloop/Sites/stancy/src/get-content.js","resolved":"/Users/limitlessloop/Sites/stancy/node_modules/jsonata/jsonata.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getContent;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _jsonata = _interopRequireDefault(require(\"jsonata\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isObjectEmpty(obj) {\n  return Object.keys(obj).length === 0 && obj.constructor === Object;\n}\n\nfunction getContent(_x, _x2) {\n  return _getContent.apply(this, arguments);\n}\n\nfunction _getContent() {\n  _getContent = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(database, _ref) {\n    var resource1, resource2, query, expression, array, _i, _Object$entries, _Object$entries$_i, key, value, string, _array, _i2, _Object$entries2, _Object$entries2$_i, _key, _value, _string, _array2, _i3, _Object$entries3, _Object$entries3$_i, _key2, _value2, _string2;\n\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            resource1 = _ref.resource1, resource2 = _ref.resource2, query = _ref.query;\n            expression = (0, _jsonata.default)(\"**[_type=\\\"\".concat(resource1, \"\\\"]\"));\n\n            if (!(resource1 && !resource2)) {\n              _context.next = 5;\n              break;\n            }\n\n            if (query) {\n              array = [];\n\n              for (_i = 0, _Object$entries = Object.entries(query); _i < _Object$entries.length; _i++) {\n                _Object$entries$_i = (0, _slicedToArray2.default)(_Object$entries[_i], 2), key = _Object$entries$_i[0], value = _Object$entries$_i[1];\n                string = \"[\".concat(key, \"=\").concat(value, \"]\");\n                array.push(string);\n              }\n\n              expression = (0, _jsonata.default)(\"**[_type=\\\"\".concat(resource1, \"\\\"]\").concat(array.toString()));\n            }\n\n            return _context.abrupt(\"return\", expression.evaluate(database));\n\n          case 5:\n            if (!(resource1 && resource2)) {\n              _context.next = 8;\n              break;\n            }\n\n            if (query) {\n              _array = [];\n\n              for (_i2 = 0, _Object$entries2 = Object.entries(query); _i2 < _Object$entries2.length; _i2++) {\n                _Object$entries2$_i = (0, _slicedToArray2.default)(_Object$entries2[_i2], 2), _key = _Object$entries2$_i[0], _value = _Object$entries2$_i[1];\n                _string = \"[\".concat(_key, \"=\").concat(_value, \"]\");\n\n                _array.push(_string);\n              }\n\n              expression = (0, _jsonata.default)(\"**[_type=\\\"\".concat(resource1, \"\\\"][_name=\\\"\").concat(resource2, \"\\\"]\").concat(_array.toString()));\n            }\n\n            return _context.abrupt(\"return\", expression.evaluate(database));\n\n          case 8:\n            if (!(!resource1 || !resource2)) {\n              _context.next = 16;\n              break;\n            }\n\n            if (!query) {\n              _context.next = 16;\n              break;\n            }\n\n            if (!isObjectEmpty(query)) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\", database);\n\n          case 12:\n            _array2 = [];\n\n            for (_i3 = 0, _Object$entries3 = Object.entries(query); _i3 < _Object$entries3.length; _i3++) {\n              _Object$entries3$_i = (0, _slicedToArray2.default)(_Object$entries3[_i3], 2), _key2 = _Object$entries3$_i[0], _value2 = _Object$entries3$_i[1];\n              _string2 = \"[\".concat(_key2, \"=\").concat(_value2, \"]\");\n\n              _array2.push(_string2);\n            }\n\n            expression = (0, _jsonata.default)(\"**\".concat(_array2.toString()));\n            return _context.abrupt(\"return\", expression.evaluate(database));\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getContent.apply(this, arguments);\n}"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":14,"column":0},"source":"get-content.js","original":{"line":1,"column":0}},{"generated":{"line":18,"column":0},"source":"get-content.js","original":{"line":3,"column":0}},{"name":"isObjectEmpty","generated":{"line":18,"column":9},"source":"get-content.js","original":{"line":3,"column":9}},{"generated":{"line":18,"column":22},"source":"get-content.js","original":{"line":3,"column":0}},{"name":"obj","generated":{"line":18,"column":23},"source":"get-content.js","original":{"line":3,"column":23}},{"generated":{"line":18,"column":26},"source":"get-content.js","original":{"line":3,"column":0}},{"generated":{"line":18,"column":28},"source":"get-content.js","original":{"line":3,"column":28}},{"generated":{"line":19,"column":0},"source":"get-content.js","original":{"line":4,"column":1}},{"name":"Object","generated":{"line":19,"column":9},"source":"get-content.js","original":{"line":4,"column":8}},{"generated":{"line":19,"column":15},"source":"get-content.js","original":{"line":4,"column":14}},{"name":"keys","generated":{"line":19,"column":16},"source":"get-content.js","original":{"line":4,"column":15}},{"generated":{"line":19,"column":20},"source":"get-content.js","original":{"line":4,"column":8}},{"name":"obj","generated":{"line":19,"column":21},"source":"get-content.js","original":{"line":4,"column":20}},{"generated":{"line":19,"column":24},"source":"get-content.js","original":{"line":4,"column":8}},{"name":"length","generated":{"line":19,"column":26},"source":"get-content.js","original":{"line":4,"column":25}},{"generated":{"line":19,"column":32},"source":"get-content.js","original":{"line":4,"column":8}},{"generated":{"line":19,"column":37},"source":"get-content.js","original":{"line":4,"column":36}},{"generated":{"line":19,"column":38},"source":"get-content.js","original":{"line":4,"column":8}},{"name":"obj","generated":{"line":19,"column":42},"source":"get-content.js","original":{"line":4,"column":41}},{"generated":{"line":19,"column":45},"source":"get-content.js","original":{"line":4,"column":44}},{"name":"constructor","generated":{"line":19,"column":46},"source":"get-content.js","original":{"line":4,"column":45}},{"generated":{"line":19,"column":57},"source":"get-content.js","original":{"line":4,"column":41}},{"name":"Object","generated":{"line":19,"column":62},"source":"get-content.js","original":{"line":4,"column":61}},{"generated":{"line":19,"column":68},"source":"get-content.js","original":{"line":4,"column":1}},{"generated":{"line":20,"column":0},"source":"get-content.js","original":{"line":5,"column":1}},{"name":"getContent","generated":{"line":22,"column":9},"source":"get-content.js","original":{"line":7,"column":30}},{"generated":{"line":27,"column":88},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"database","generated":{"line":27,"column":105},"source":"get-content.js","original":{"line":7,"column":41}},{"generated":{"line":27,"column":113},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":28,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":30,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":31,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":32,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":33,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"resource1","generated":{"line":34,"column":0},"source":"get-content.js","original":{"line":7,"column":53}},{"name":"resource1","generated":{"line":34,"column":12},"source":"get-content.js","original":{"line":7,"column":53}},{"generated":{"line":34,"column":21},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"resource1","generated":{"line":34,"column":29},"source":"get-content.js","original":{"line":7,"column":53}},{"generated":{"line":34,"column":38},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"resource2","generated":{"line":34,"column":40},"source":"get-content.js","original":{"line":7,"column":64}},{"generated":{"line":34,"column":49},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"resource2","generated":{"line":34,"column":57},"source":"get-content.js","original":{"line":7,"column":64}},{"generated":{"line":34,"column":66},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"query","generated":{"line":34,"column":68},"source":"get-content.js","original":{"line":7,"column":75}},{"generated":{"line":34,"column":73},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"query","generated":{"line":34,"column":81},"source":"get-content.js","original":{"line":7,"column":75}},{"generated":{"line":34,"column":86},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"expression","generated":{"line":35,"column":0},"source":"get-content.js","original":{"line":8,"column":5}},{"name":"expression","generated":{"line":35,"column":12},"source":"get-content.js","original":{"line":8,"column":5}},{"generated":{"line":35,"column":22},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":35,"column":25},"source":"get-content.js","original":{"line":8,"column":18}},{"name":"resource1","generated":{"line":35,"column":68},"source":"get-content.js","original":{"line":8,"column":39}},{"generated":{"line":35,"column":77},"source":"get-content.js","original":{"line":8,"column":18}},{"generated":{"line":35,"column":86},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":37,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"resource1","generated":{"line":37,"column":18},"source":"get-content.js","original":{"line":9,"column":5}},{"generated":{"line":37,"column":27},"source":"get-content.js","original":{"line":9,"column":14}},{"generated":{"line":37,"column":31},"source":"get-content.js","original":{"line":9,"column":18}},{"name":"resource2","generated":{"line":37,"column":32},"source":"get-content.js","original":{"line":9,"column":19}},{"generated":{"line":37,"column":41},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":38,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":39,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":40,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":42,"column":0},"source":"get-content.js","original":{"line":10,"column":2}},{"name":"query","generated":{"line":42,"column":16},"source":"get-content.js","original":{"line":10,"column":6}},{"generated":{"line":42,"column":21},"source":"get-content.js","original":{"line":10,"column":2}},{"generated":{"line":42,"column":23},"source":"get-content.js","original":{"line":10,"column":13}},{"name":"array","generated":{"line":43,"column":0},"source":"get-content.js","original":{"line":11,"column":7}},{"name":"array","generated":{"line":43,"column":14},"source":"get-content.js","original":{"line":11,"column":7}},{"generated":{"line":43,"column":19},"source":"get-content.js","original":{"line":10,"column":13}},{"generated":{"line":43,"column":22},"source":"get-content.js","original":{"line":11,"column":15}},{"generated":{"line":43,"column":24},"source":"get-content.js","original":{"line":10,"column":13}},{"generated":{"line":45,"column":0},"source":"get-content.js","original":{"line":12,"column":3}},{"name":"Object","generated":{"line":45,"column":45},"source":"get-content.js","original":{"line":12,"column":30}},{"generated":{"line":45,"column":51},"source":"get-content.js","original":{"line":12,"column":36}},{"name":"entries","generated":{"line":45,"column":52},"source":"get-content.js","original":{"line":12,"column":37}},{"generated":{"line":45,"column":59},"source":"get-content.js","original":{"line":12,"column":30}},{"name":"query","generated":{"line":45,"column":60},"source":"get-content.js","original":{"line":12,"column":45}},{"generated":{"line":45,"column":65},"source":"get-content.js","original":{"line":12,"column":30}},{"generated":{"line":45,"column":66},"source":"get-content.js","original":{"line":12,"column":3}},{"generated":{"line":45,"column":103},"source":"get-content.js","original":{"line":12,"column":53}},{"generated":{"line":46,"column":0},"source":"get-content.js","original":{"line":12,"column":53}},{"name":"key","generated":{"line":46,"column":91},"source":"get-content.js","original":{"line":12,"column":14}},{"generated":{"line":46,"column":94},"source":"get-content.js","original":{"line":12,"column":53}},{"name":"value","generated":{"line":46,"column":120},"source":"get-content.js","original":{"line":12,"column":19}},{"generated":{"line":46,"column":125},"source":"get-content.js","original":{"line":12,"column":53}},{"name":"string","generated":{"line":47,"column":0},"source":"get-content.js","original":{"line":13,"column":8}},{"name":"string","generated":{"line":47,"column":16},"source":"get-content.js","original":{"line":13,"column":8}},{"generated":{"line":47,"column":22},"source":"get-content.js","original":{"line":12,"column":53}},{"name":"key","generated":{"line":47,"column":36},"source":"get-content.js","original":{"line":13,"column":21}},{"generated":{"line":47,"column":39},"source":"get-content.js","original":{"line":12,"column":53}},{"name":"value","generated":{"line":47,"column":53},"source":"get-content.js","original":{"line":13,"column":28}},{"generated":{"line":47,"column":58},"source":"get-content.js","original":{"line":12,"column":53}},{"name":"array","generated":{"line":48,"column":0},"source":"get-content.js","original":{"line":14,"column":4}},{"name":"array","generated":{"line":48,"column":16},"source":"get-content.js","original":{"line":14,"column":4}},{"generated":{"line":48,"column":21},"source":"get-content.js","original":{"line":14,"column":9}},{"name":"push","generated":{"line":48,"column":22},"source":"get-content.js","original":{"line":14,"column":10}},{"generated":{"line":48,"column":26},"source":"get-content.js","original":{"line":14,"column":4}},{"name":"string","generated":{"line":48,"column":27},"source":"get-content.js","original":{"line":14,"column":15}},{"generated":{"line":48,"column":33},"source":"get-content.js","original":{"line":14,"column":4}},{"generated":{"line":49,"column":0},"source":"get-content.js","original":{"line":15,"column":4}},{"name":"expression","generated":{"line":51,"column":0},"source":"get-content.js","original":{"line":16,"column":3}},{"name":"expression","generated":{"line":51,"column":14},"source":"get-content.js","original":{"line":16,"column":3}},{"generated":{"line":51,"column":24},"source":"get-content.js","original":{"line":16,"column":13}},{"generated":{"line":51,"column":27},"source":"get-content.js","original":{"line":16,"column":16}},{"name":"resource1","generated":{"line":51,"column":70},"source":"get-content.js","original":{"line":16,"column":37}},{"generated":{"line":51,"column":79},"source":"get-content.js","original":{"line":16,"column":16}},{"name":"array","generated":{"line":51,"column":95},"source":"get-content.js","original":{"line":16,"column":51}},{"generated":{"line":51,"column":100},"source":"get-content.js","original":{"line":16,"column":56}},{"name":"toString","generated":{"line":51,"column":101},"source":"get-content.js","original":{"line":16,"column":57}},{"generated":{"line":51,"column":109},"source":"get-content.js","original":{"line":16,"column":51}},{"generated":{"line":51,"column":111},"source":"get-content.js","original":{"line":16,"column":16}},{"generated":{"line":51,"column":113},"source":"get-content.js","original":{"line":16,"column":3}},{"generated":{"line":52,"column":0},"source":"get-content.js","original":{"line":17,"column":3}},{"generated":{"line":54,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"expression","generated":{"line":54,"column":45},"source":"get-content.js","original":{"line":19,"column":9}},{"generated":{"line":54,"column":55},"source":"get-content.js","original":{"line":19,"column":19}},{"name":"evaluate","generated":{"line":54,"column":56},"source":"get-content.js","original":{"line":19,"column":20}},{"generated":{"line":54,"column":64},"source":"get-content.js","original":{"line":19,"column":9}},{"name":"database","generated":{"line":54,"column":65},"source":"get-content.js","original":{"line":19,"column":29}},{"generated":{"line":54,"column":73},"source":"get-content.js","original":{"line":19,"column":9}},{"generated":{"line":54,"column":74},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":56,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":57,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"resource1","generated":{"line":57,"column":18},"source":"get-content.js","original":{"line":22,"column":5}},{"generated":{"line":57,"column":27},"source":"get-content.js","original":{"line":22,"column":14}},{"name":"resource2","generated":{"line":57,"column":31},"source":"get-content.js","original":{"line":22,"column":18}},{"generated":{"line":57,"column":40},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":58,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":59,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":60,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":62,"column":0},"source":"get-content.js","original":{"line":23,"column":2}},{"name":"query","generated":{"line":62,"column":16},"source":"get-content.js","original":{"line":23,"column":6}},{"generated":{"line":62,"column":21},"source":"get-content.js","original":{"line":23,"column":2}},{"generated":{"line":62,"column":23},"source":"get-content.js","original":{"line":23,"column":13}},{"name":"array","generated":{"line":63,"column":0},"source":"get-content.js","original":{"line":24,"column":7}},{"name":"array","generated":{"line":63,"column":14},"source":"get-content.js","original":{"line":24,"column":7}},{"generated":{"line":63,"column":20},"source":"get-content.js","original":{"line":23,"column":13}},{"generated":{"line":63,"column":23},"source":"get-content.js","original":{"line":24,"column":15}},{"generated":{"line":63,"column":25},"source":"get-content.js","original":{"line":23,"column":13}},{"generated":{"line":65,"column":0},"source":"get-content.js","original":{"line":25,"column":3}},{"name":"Object","generated":{"line":65,"column":47},"source":"get-content.js","original":{"line":25,"column":30}},{"generated":{"line":65,"column":53},"source":"get-content.js","original":{"line":25,"column":36}},{"name":"entries","generated":{"line":65,"column":54},"source":"get-content.js","original":{"line":25,"column":37}},{"generated":{"line":65,"column":61},"source":"get-content.js","original":{"line":25,"column":30}},{"name":"query","generated":{"line":65,"column":62},"source":"get-content.js","original":{"line":25,"column":45}},{"generated":{"line":65,"column":67},"source":"get-content.js","original":{"line":25,"column":30}},{"generated":{"line":65,"column":68},"source":"get-content.js","original":{"line":25,"column":3}},{"generated":{"line":65,"column":108},"source":"get-content.js","original":{"line":25,"column":53}},{"generated":{"line":66,"column":0},"source":"get-content.js","original":{"line":25,"column":53}},{"name":"key","generated":{"line":66,"column":94},"source":"get-content.js","original":{"line":25,"column":14}},{"generated":{"line":66,"column":98},"source":"get-content.js","original":{"line":25,"column":53}},{"name":"value","generated":{"line":66,"column":125},"source":"get-content.js","original":{"line":25,"column":19}},{"generated":{"line":66,"column":131},"source":"get-content.js","original":{"line":25,"column":53}},{"name":"string","generated":{"line":67,"column":0},"source":"get-content.js","original":{"line":26,"column":8}},{"name":"string","generated":{"line":67,"column":16},"source":"get-content.js","original":{"line":26,"column":8}},{"generated":{"line":67,"column":23},"source":"get-content.js","original":{"line":25,"column":53}},{"name":"key","generated":{"line":67,"column":37},"source":"get-content.js","original":{"line":26,"column":21}},{"generated":{"line":67,"column":41},"source":"get-content.js","original":{"line":25,"column":53}},{"name":"value","generated":{"line":67,"column":55},"source":"get-content.js","original":{"line":26,"column":28}},{"generated":{"line":67,"column":61},"source":"get-content.js","original":{"line":25,"column":53}},{"name":"array","generated":{"line":69,"column":0},"source":"get-content.js","original":{"line":27,"column":4}},{"name":"array","generated":{"line":69,"column":16},"source":"get-content.js","original":{"line":27,"column":4}},{"generated":{"line":69,"column":22},"source":"get-content.js","original":{"line":27,"column":9}},{"name":"push","generated":{"line":69,"column":23},"source":"get-content.js","original":{"line":27,"column":10}},{"generated":{"line":69,"column":27},"source":"get-content.js","original":{"line":27,"column":4}},{"name":"string","generated":{"line":69,"column":28},"source":"get-content.js","original":{"line":27,"column":15}},{"generated":{"line":69,"column":35},"source":"get-content.js","original":{"line":27,"column":4}},{"generated":{"line":70,"column":0},"source":"get-content.js","original":{"line":28,"column":4}},{"name":"expression","generated":{"line":72,"column":0},"source":"get-content.js","original":{"line":29,"column":3}},{"name":"expression","generated":{"line":72,"column":14},"source":"get-content.js","original":{"line":29,"column":3}},{"generated":{"line":72,"column":24},"source":"get-content.js","original":{"line":29,"column":13}},{"generated":{"line":72,"column":27},"source":"get-content.js","original":{"line":29,"column":16}},{"name":"resource1","generated":{"line":72,"column":70},"source":"get-content.js","original":{"line":29,"column":37}},{"generated":{"line":72,"column":79},"source":"get-content.js","original":{"line":29,"column":16}},{"name":"resource2","generated":{"line":72,"column":104},"source":"get-content.js","original":{"line":29,"column":59}},{"generated":{"line":72,"column":113},"source":"get-content.js","original":{"line":29,"column":16}},{"name":"array","generated":{"line":72,"column":129},"source":"get-content.js","original":{"line":29,"column":73}},{"generated":{"line":72,"column":135},"source":"get-content.js","original":{"line":29,"column":78}},{"name":"toString","generated":{"line":72,"column":136},"source":"get-content.js","original":{"line":29,"column":79}},{"generated":{"line":72,"column":144},"source":"get-content.js","original":{"line":29,"column":73}},{"generated":{"line":72,"column":146},"source":"get-content.js","original":{"line":29,"column":16}},{"generated":{"line":72,"column":148},"source":"get-content.js","original":{"line":29,"column":3}},{"generated":{"line":73,"column":0},"source":"get-content.js","original":{"line":30,"column":3}},{"generated":{"line":75,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"expression","generated":{"line":75,"column":45},"source":"get-content.js","original":{"line":32,"column":9}},{"generated":{"line":75,"column":55},"source":"get-content.js","original":{"line":32,"column":19}},{"name":"evaluate","generated":{"line":75,"column":56},"source":"get-content.js","original":{"line":32,"column":20}},{"generated":{"line":75,"column":64},"source":"get-content.js","original":{"line":32,"column":9}},{"name":"database","generated":{"line":75,"column":65},"source":"get-content.js","original":{"line":32,"column":29}},{"generated":{"line":75,"column":73},"source":"get-content.js","original":{"line":32,"column":9}},{"generated":{"line":75,"column":74},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":77,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":78,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":78,"column":18},"source":"get-content.js","original":{"line":35,"column":5}},{"name":"resource1","generated":{"line":78,"column":19},"source":"get-content.js","original":{"line":35,"column":6}},{"generated":{"line":78,"column":28},"source":"get-content.js","original":{"line":35,"column":5}},{"generated":{"line":78,"column":32},"source":"get-content.js","original":{"line":35,"column":19}},{"name":"resource2","generated":{"line":78,"column":33},"source":"get-content.js","original":{"line":35,"column":20}},{"generated":{"line":78,"column":42},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":79,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":80,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":81,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":83,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"query","generated":{"line":83,"column":17},"source":"get-content.js","original":{"line":36,"column":6}},{"generated":{"line":83,"column":22},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":84,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":85,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":86,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":88,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"isObjectEmpty","generated":{"line":88,"column":17},"source":"get-content.js","original":{"line":37,"column":7}},{"generated":{"line":88,"column":30},"source":"get-content.js","original":{"line":37,"column":20}},{"name":"query","generated":{"line":88,"column":31},"source":"get-content.js","original":{"line":37,"column":21}},{"generated":{"line":88,"column":36},"source":"get-content.js","original":{"line":37,"column":20}},{"generated":{"line":88,"column":37},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":89,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":90,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":91,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":93,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"database","generated":{"line":93,"column":45},"source":"get-content.js","original":{"line":38,"column":11}},{"generated":{"line":93,"column":53},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":95,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"array","generated":{"line":96,"column":0},"source":"get-content.js","original":{"line":40,"column":7}},{"name":"array","generated":{"line":96,"column":12},"source":"get-content.js","original":{"line":40,"column":7}},{"generated":{"line":96,"column":19},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":96,"column":22},"source":"get-content.js","original":{"line":40,"column":15}},{"generated":{"line":96,"column":24},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":98,"column":0},"source":"get-content.js","original":{"line":41,"column":3}},{"name":"Object","generated":{"line":98,"column":45},"source":"get-content.js","original":{"line":41,"column":30}},{"generated":{"line":98,"column":51},"source":"get-content.js","original":{"line":41,"column":36}},{"name":"entries","generated":{"line":98,"column":52},"source":"get-content.js","original":{"line":41,"column":37}},{"generated":{"line":98,"column":59},"source":"get-content.js","original":{"line":41,"column":30}},{"name":"query","generated":{"line":98,"column":60},"source":"get-content.js","original":{"line":41,"column":45}},{"generated":{"line":98,"column":65},"source":"get-content.js","original":{"line":41,"column":30}},{"generated":{"line":98,"column":66},"source":"get-content.js","original":{"line":41,"column":3}},{"generated":{"line":98,"column":106},"source":"get-content.js","original":{"line":41,"column":53}},{"generated":{"line":99,"column":0},"source":"get-content.js","original":{"line":41,"column":53}},{"name":"key","generated":{"line":99,"column":92},"source":"get-content.js","original":{"line":41,"column":14}},{"generated":{"line":99,"column":97},"source":"get-content.js","original":{"line":41,"column":53}},{"name":"value","generated":{"line":99,"column":124},"source":"get-content.js","original":{"line":41,"column":19}},{"generated":{"line":99,"column":131},"source":"get-content.js","original":{"line":41,"column":53}},{"name":"string","generated":{"line":100,"column":0},"source":"get-content.js","original":{"line":42,"column":8}},{"name":"string","generated":{"line":100,"column":14},"source":"get-content.js","original":{"line":42,"column":8}},{"generated":{"line":100,"column":22},"source":"get-content.js","original":{"line":41,"column":53}},{"name":"key","generated":{"line":100,"column":36},"source":"get-content.js","original":{"line":42,"column":21}},{"generated":{"line":100,"column":41},"source":"get-content.js","original":{"line":41,"column":53}},{"name":"value","generated":{"line":100,"column":55},"source":"get-content.js","original":{"line":42,"column":28}},{"generated":{"line":100,"column":62},"source":"get-content.js","original":{"line":41,"column":53}},{"name":"array","generated":{"line":102,"column":0},"source":"get-content.js","original":{"line":43,"column":4}},{"name":"array","generated":{"line":102,"column":14},"source":"get-content.js","original":{"line":43,"column":4}},{"generated":{"line":102,"column":21},"source":"get-content.js","original":{"line":43,"column":9}},{"name":"push","generated":{"line":102,"column":22},"source":"get-content.js","original":{"line":43,"column":10}},{"generated":{"line":102,"column":26},"source":"get-content.js","original":{"line":43,"column":4}},{"name":"string","generated":{"line":102,"column":27},"source":"get-content.js","original":{"line":43,"column":15}},{"generated":{"line":102,"column":35},"source":"get-content.js","original":{"line":43,"column":4}},{"generated":{"line":103,"column":0},"source":"get-content.js","original":{"line":44,"column":4}},{"name":"expression","generated":{"line":105,"column":0},"source":"get-content.js","original":{"line":46,"column":3}},{"name":"expression","generated":{"line":105,"column":12},"source":"get-content.js","original":{"line":46,"column":3}},{"generated":{"line":105,"column":22},"source":"get-content.js","original":{"line":46,"column":13}},{"generated":{"line":105,"column":25},"source":"get-content.js","original":{"line":46,"column":16}},{"name":"array","generated":{"line":105,"column":59},"source":"get-content.js","original":{"line":46,"column":29}},{"generated":{"line":105,"column":66},"source":"get-content.js","original":{"line":46,"column":34}},{"name":"toString","generated":{"line":105,"column":67},"source":"get-content.js","original":{"line":46,"column":35}},{"generated":{"line":105,"column":75},"source":"get-content.js","original":{"line":46,"column":29}},{"generated":{"line":105,"column":77},"source":"get-content.js","original":{"line":46,"column":16}},{"generated":{"line":105,"column":79},"source":"get-content.js","original":{"line":46,"column":3}},{"generated":{"line":106,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"name":"expression","generated":{"line":106,"column":45},"source":"get-content.js","original":{"line":47,"column":10}},{"generated":{"line":106,"column":55},"source":"get-content.js","original":{"line":47,"column":20}},{"name":"evaluate","generated":{"line":106,"column":56},"source":"get-content.js","original":{"line":47,"column":21}},{"generated":{"line":106,"column":64},"source":"get-content.js","original":{"line":47,"column":10}},{"name":"database","generated":{"line":106,"column":65},"source":"get-content.js","original":{"line":47,"column":30}},{"generated":{"line":106,"column":73},"source":"get-content.js","original":{"line":47,"column":10}},{"generated":{"line":106,"column":74},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":108,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":109,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":110,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":111,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":112,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":113,"column":0},"source":"get-content.js","original":{"line":7,"column":15}},{"generated":{"line":114,"column":0},"source":"get-content.js","original":{"line":7,"column":15}}],"sources":{"get-content.js":"import jsonata from 'jsonata';\n\nfunction isObjectEmpty(obj) {\n\treturn Object.keys(obj).length === 0 && obj.constructor === Object;\n}\n\nexport default async function getContent(database, { resource1, resource2, query }) {\n\tvar expression = jsonata(`**[_type=\"${resource1}\"]`);\n\tif (resource1 && !resource2) {\n\t\tif (query) {\n\t\t\tlet array = [];\n\t\t\tfor (let [ key, value ] of Object.entries(query)) {\n\t\t\t\tlet string = `[${key}=${value}]`;\n\t\t\t\tarray.push(string);\n\t\t\t}\n\t\t\texpression = jsonata(`**[_type=\"${resource1}\"]${array.toString()}`);\n\t\t}\n\n\t\treturn expression.evaluate(database);\n\t}\n\n\tif (resource1 && resource2) {\n\t\tif (query) {\n\t\t\tlet array = [];\n\t\t\tfor (let [ key, value ] of Object.entries(query)) {\n\t\t\t\tlet string = `[${key}=${value}]`;\n\t\t\t\tarray.push(string);\n\t\t\t}\n\t\t\texpression = jsonata(`**[_type=\"${resource1}\"][_name=\"${resource2}\"]${array.toString()}`);\n\t\t}\n\n\t\treturn expression.evaluate(database);\n\t}\n\n\tif (!resource1 || !resource2) {\n\t\tif (query) {\n\t\t\tif (isObjectEmpty(query)) {\n\t\t\t\treturn database;\n\t\t\t}\n\t\t\tlet array = [];\n\t\t\tfor (let [ key, value ] of Object.entries(query)) {\n\t\t\t\tlet string = `[${key}=${value}]`;\n\t\t\t\tarray.push(string);\n\t\t\t}\n\n\t\t\texpression = jsonata(`**${array.toString()}`);\n\t\t\treturn expression.evaluate(database);\n\t\t}\n\t}\n}\n"},"lineCount":null}},"error":null,"hash":"bcffc63547b2ede26525a5eeedb15bcc","cacheData":{"env":{}}}